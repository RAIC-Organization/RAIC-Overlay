# Research: Tauri App Icon Update

**Feature**: 012-tauri-app-icon
**Date**: 2025-12-20

## Research Summary

All technical questions resolved. No NEEDS CLARIFICATION items remain.

## Decisions

### 1. Icon Generation Method

**Decision**: Use Tauri CLI `icon` command

**Rationale**:
- Official Tauri tooling, maintained by the Tauri team
- Generates all required platform-specific formats in one command
- Outputs directly to `src-tauri/icons/` by default
- No additional dependencies required (already have `@tauri-apps/cli`)

**Alternatives Considered**:
- Manual icon creation with image editors: Rejected - tedious, error-prone, requires 17+ files
- Third-party tools (tauricon, sharp scripts): Rejected - unnecessary complexity when official CLI exists
- Online icon generators: Rejected - introduces external dependency, manual file placement

### 2. Source Icon Location

**Decision**: Use existing `src/assets/icon.png` as source

**Rationale**:
- Already exists and is the branded RAIC icon (1024x1024 PNG with alpha)
- Used by Next.js AppIcon component - maintains single source of truth
- Meets Tauri requirements: square, PNG, transparency, >512px

**Alternatives Considered**:
- Copy icon to project root as `app-icon.png`: Rejected - duplicates asset, adds maintenance burden
- Create separate high-res source: Rejected - 1024x1024 already sufficient for all generated sizes

### 3. Configuration Changes

**Decision**: No changes to `tauri.conf.json` required

**Rationale**:
- Default `bundle.icon` configuration already references `src-tauri/icons/`
- Icon filenames generated by CLI match expected names
- Tauri automatically includes icons from this directory in builds

**Alternatives Considered**:
- Custom icon paths: Rejected - adds complexity without benefit
- Inline icon references: Not applicable for Tauri 2.x

## Command Specification

```bash
# Generate icons from source (run from project root)
npm run tauri icon src/assets/icon.png
```

**Output**: All icons placed in `src-tauri/icons/`, replacing defaults

**Generated Files**:
- `icon.ico` - Windows executable icon (multi-layer: 16, 24, 32, 48, 64, 256px)
- `icon.icns` - macOS app bundle icon
- `icon.png` - Base PNG icon
- `32x32.png`, `64x64.png`, `128x128.png`, `128x128@2x.png` - Standard sizes
- `Square*.png` - Windows Store / AppX icons (9 sizes)
- `StoreLogo.png` - Windows Store logo

## Source Icon Verification

| Property | Value | Requirement | Status |
|----------|-------|-------------|--------|
| Format | PNG | PNG or SVG | PASS |
| Width | 1024px | â‰¥512px recommended | PASS |
| Height | 1024px | Must equal width | PASS |
| Alpha Channel | Yes | Required for transparency | PASS |
| Color Space | sRGB | Standard | PASS |

## Risk Assessment

| Risk | Likelihood | Impact | Mitigation |
|------|------------|--------|------------|
| Icon generation fails | Low | Low | CLI provides clear error messages; source meets all requirements |
| Visual quality issues | Low | Medium | 1024px source exceeds all target sizes; no upscaling needed |
| Platform compatibility | Low | Low | CLI generates all platform formats automatically |

## References

- [Tauri App Icons Documentation](https://v2.tauri.app/develop/icons/)
- [Tauri CLI Reference](https://v2.tauri.app/reference/cli/)
- Context7 library ID: `/websites/v2_tauri_app`
